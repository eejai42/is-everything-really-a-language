{
  "schema_version": "erb.explain_spec.v1",
  "rulebook": {
    "name": "DEMO: Customer FullName",
    "rulebook_hash": "sha256:fc5baec006076835eeecd2be23742af0"
  },
  "semantics": {
    "profile": "excel",
    "version": "v1",
    "null_handling": "three_valued_logic",
    "boolean_coercion": "strict"
  },
  "entities": {
    "Customers": {
      "id_field": "CustomerId",
      "id_field_snake": "customer_id",
      "fields": {
        "CustomerId": {
          "datatype": "string",
          "nullable": false,
          "type": "raw"
        },
        "Customer": {
          "datatype": "string",
          "nullable": true,
          "type": "raw"
        },
        "EmailAddress": {
          "datatype": "string",
          "nullable": true,
          "type": "raw"
        },
        "FirstName": {
          "datatype": "string",
          "nullable": true,
          "type": "raw"
        },
        "LastName": {
          "datatype": "string",
          "nullable": true,
          "type": "raw"
        },
        "FullName": {
          "datatype": "string",
          "nullable": true,
          "type": "calculated"
        }
      },
      "calc_order": [
        "FullName"
      ],
      "dep_edges": [
        [
          "LastName",
          "FullName"
        ],
        [
          "FirstName",
          "FullName"
        ]
      ],
      "expr_templates": {
        "FullName": {
          "formula_source": "={{LastName}} & \", \" & {{FirstName}}",
          "template_hash": "sha256:87fca7e8a65752b8",
          "root_node": "n_result_FullName",
          "nodes": {
            "n_ref_1": {
              "kind": "field_ref",
              "field": "LastName",
              "field_snake": "last_name"
            },
            "n_const_2": {
              "kind": "const",
              "value": ", ",
              "type": "string"
            },
            "n_ref_3": {
              "kind": "field_ref",
              "field": "FirstName",
              "field_snake": "first_name"
            },
            "n_op_4": {
              "kind": "op",
              "name": "CONCAT",
              "args": [
                "n_ref_1",
                "n_const_2",
                "n_ref_3"
              ]
            },
            "n_result_FullName": {
              "kind": "result",
              "field": "FullName",
              "field_snake": "full_name",
              "in": [
                "n_op_4"
              ]
            }
          },
          "edges": [
            [
              "n_ref_1",
              "n_op_4"
            ],
            [
              "n_const_2",
              "n_op_4"
            ],
            [
              "n_ref_3",
              "n_op_4"
            ],
            [
              "n_op_4",
              "n_result_FullName"
            ]
          ]
        }
      }
    }
  }
}