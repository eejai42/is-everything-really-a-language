{
  "$schema": "https://example.com/cmcc-schema/v1",
  "model_name": "appEMeBJDL9wcHWOS",
  "Description": "CMCC rulebook generated directly from Airtable base.",
  "Customers": {
    "Description": "Table: Customers",
    "schema": [
      {
        "name": "CustomerId",
        "datatype": "string",
        "type": "raw",
        "nullable": false
      },
      {
        "name": "Customer",
        "datatype": "string",
        "type": "raw",
        "nullable": true
      },
      {
        "name": "EmailAddress",
        "datatype": "string",
        "type": "raw",
        "nullable": true
      },
      {
        "name": "FirstName",
        "datatype": "string",
        "type": "raw",
        "nullable": true
      },
      {
        "name": "LastName",
        "datatype": "string",
        "type": "raw",
        "nullable": true
      },
      {
        "name": "FullName",
        "datatype": "string",
        "type": "calculated",
        "nullable": true,
        "formula": "={{FirstName}} \u0026 \u0022 \u0022 \u0026 {{LastName}}"
      },
      {
        "name": "Orders",
        "datatype": "string",
        "type": "relationship",
        "nullable": true,
        "RelatedTo": "Orders"
      }
    ],
    "data": [
      {
        "CustomerId": "cust0001",
        "Customer": "CUST0001",
        "EmailAddress": "jane.smith@email.com",
        "FirstName": "Jane",
        "LastName": "Smith",
        "FullName": "Jane Smith",
        "Orders": "ord1001, ord1002"
      },
      {
        "CustomerId": "cust0002",
        "Customer": "CUST0002",
        "EmailAddress": "john.doe@email.com",
        "FirstName": "John",
        "LastName": "Doe",
        "FullName": "John Doe",
        "Orders": "ord1002"
      },
      {
        "CustomerId": "cust0003",
        "Customer": "CUST0003",
        "EmailAddress": "emily.jones@email.com",
        "FirstName": "Emily",
        "LastName": "Jones",
        "FullName": "Emily Jones",
        "Orders": ""
      }
    ]
  },
  "Orders": {
    "Description": "Table: Orders",
    "schema": [
      {
        "name": "OrderId",
        "datatype": "string",
        "type": "raw",
        "nullable": false
      },
      {
        "name": "Name",
        "datatype": "string",
        "type": "calculated",
        "nullable": true,
        "formula": "=\u0022ORD\u0022 \u0026 {{OrderNumber}}"
      },
      {
        "name": "OrderNumber",
        "datatype": "integer",
        "type": "raw",
        "nullable": true
      },
      {
        "name": "Customer",
        "datatype": "string",
        "type": "relationship",
        "nullable": true,
        "RelatedTo": "Customers"
      },
      {
        "name": "CustomerEmailAddress",
        "datatype": "string",
        "type": "lookup",
        "nullable": true,
        "formula": "=INDEX(Customers!{{EmailAddress}}, MATCH(Orders!{{Customer}}, Customers!{{CustomerId}}, 0))"
      },
      {
        "name": "CustomerFullName",
        "datatype": "string",
        "type": "lookup",
        "nullable": true,
        "formula": "=INDEX(Customers!{{FullName}}, MATCH(Orders!{{Customer}}, Customers!{{CustomerId}}, 0))"
      }
    ],
    "data": [
      {
        "OrderId": "ord1001",
        "Name": "ORD1001",
        "Customer": "cust0001",
        "CustomerFullName": "Jane Smith",
        "CustomerEmailAddress": "jane.smith@email.com",
        "OrderNumber": 1001
      },
      {
        "OrderId": "ord1002",
        "Name": "ORD1002",
        "Customer": "cust0002",
        "CustomerFullName": "John Doe",
        "CustomerEmailAddress": "john.doe@email.com",
        "OrderNumber": 1002
      },
      {
        "OrderId": "ord1002",
        "Name": "ORD1002",
        "Customer": "cust0001",
        "CustomerFullName": "Jane Smith",
        "CustomerEmailAddress": "jane.smith@email.com",
        "OrderNumber": 1002
      }
    ]
  },
  "_meta": {
    "_CMCC_Summary": "Airtable export with schema-first type mapping: Schemas, Data, Relationships (FK links), Lookups (INDEX/MATCH), Aggregations (SUMIFS/COUNTIFS/Rollups), and Calculated fields (formulas) in Excel dialect. Field types are determined from Airtable\u0027s schema metadata FIRST (no coercion), with intelligent fallback to formula/data analysis only when schema is unavailable.",
    "_conversion_metadata": {
      "source_base_id": "appEMeBJDL9wcHWOS",
      "table_count": 2,
      "tool_version": "2.0.0",
      "field_type_mapping": "checkbox\u2192boolean, number\u2192number/integer, multipleRecordLinks\u2192relationship, multipleLookupValues\u2192lookup, rollup\u2192aggregation, count\u2192aggregation, formula\u2192calculated",
      "export_mode": "schema_first_type_mapping",
      "type_inference": {
        "enabled": true,
        "priority": "airtable_metadata (NO COERCION) \u2192 formula_analysis \u2192 reference_resolution \u2192 data_analysis (fallback only)",
        "airtable_type_mapping": "checkbox\u2192boolean, singleLineText\u2192string, multilineText\u2192string, number\u2192number/integer, datetime\u2192datetime, singleSelect\u2192string, email\u2192string, url\u2192string, phoneNumber\u2192string",
        "data_coercion_hierarchy": "Only used as fallback when Airtable schema unavailable: datetime \u2192 number \u2192 integer \u2192 boolean \u2192 base64 \u2192 json \u2192 string",
        "nullable_support": true,
        "error_value_handling": "#NUM!, #ERROR!, #N/A, #REF!, #DIV/0!, #VALUE!, #NAME? are treated as NULL"
      }
    }
  }
}